(function(e){function t(t){for(var o,i,a=t[0],u=t[1],c=t[2],f=0,p=[];f<a.length;f++)i=a[f],r[i]&&p.push(r[i][0]),r[i]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);l&&l(t);while(p.length)p.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],o=!0,a=1;a<n.length;a++){var u=n[a];0!==r[u]&&(o=!1)}o&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},r={app:0},s=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var l=u;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"012d":function(e,t,n){},"0584":function(e,t,n){},"08b0":function(e,t,n){},"11c5":function(e,t,n){},"1a37":function(e,t,n){"use strict";var o=n("8890"),r=n.n(o);r.a},"1f61":function(e,t,n){"use strict";var o=n("3002"),r=n.n(o);r.a},"2b80":function(e,t,n){},3002:function(e,t,n){},4694:function(e,t,n){"use strict";var o=n("a4a0"),r=n.n(o);r.a},"4ac9":function(e,t,n){"use strict";var o=n("f5b6"),r=n.n(o);r.a},"53ee":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var o=n("2b0e"),r=n("8c4f"),s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("header",[e.user?o("span",[e._v("\n      Hello "+e._s(e.user.username)+"!\n    ")]):e._e(),e.user?o("nav",[o("RouterLink",{attrs:{to:"/"}},[e._v("Home")]),o("RouterLink",{attrs:{to:"/search"}},[e._v("Search")]),o("RouterLink",{attrs:{to:"/myset"}},[e._v("My Set")]),o("RouterLink",{attrs:{to:"/rating"}},[e._v("Ratings")]),o("RouterLink",{attrs:{to:"/about"}},[e._v("About")]),o("a",{attrs:{href:"#"},on:{click:e.handleLogout}},[e._v("Logout")])],1):e._e()]),o("main",[o("img",{attrs:{alt:"Vue logo",src:n("cf05")}}),e.user?o("RouterView",{attrs:{user:e.user}}):o("Auth",{attrs:{onSignUp:e.handleSignUp,onSignIn:e.handleSignIn}})],1)])},i=[],a="",u=function(e,t){var n={method:e,headers:{}};return t&&(n.headers["Content-Type"]="application/json",n.body=JSON.stringify(t)),a&&(n.headers.Authorization=a),n},c={setToken:function(e){a=e},signUp:function(e){return fetch("/api/auth/signUp",u("POST",e)).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})})},signIn:function(e){return fetch("/api/auth/signIn",u("POST",e)).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})})},getRatings:function(){return fetch("/api/ratings",u("GET")).then(function(e){return e.json()})},getJokes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return fetch("https://icanhazdadjoke.com/search?term=".concat(e),{headers:{Accept:"application/json"}}).then(function(e){return e.json()})},addJoke:function(e){return fetch("/api/jokes",u("POST",e)).then(function(e){return e.json()})},addRating:function(e){return fetch("/api/ratings",u("POST",e)).then(function(e){return e.json()})}},l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",["signin"===e.method?n("div",[n("h2",[e._v("Sign In")]),n("p",[e._v("\n      Need to register?\n      "),n("button",{on:{click:function(t){e.method="signup"}}},[e._v("Sign Up")])]),n("CredentialsForm",{attrs:{prompt:"Sign In",onSubmit:e.handleSignIn}})],1):n("div",[n("h2",[e._v("Sign Up")]),n("p",[e._v("Already have an account?\n      "),n("button",{on:{click:function(t){e.method="signin"}}},[e._v("Sign In")])]),n("CredentialsForm",{attrs:{prompt:"Sign Up",onSubmit:e.handleSignUp}})],1),e.error?n("pre",[e._v(e._s(e.error))]):e._e()])},f=[],p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{on:{submit:function(t){t.preventDefault(),e.onSubmit(e.profile)}}},[n("label",[e._v("\n    Username:\n    "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.username,expression:"profile.username"}],attrs:{required:""},domProps:{value:e.profile.username},on:{input:function(t){t.target.composing||e.$set(e.profile,"username",t.target.value)}}})]),n("label",[e._v("\n    Password:\n    "),"checkbox"===(e.showPassword?"text":"password")?n("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.password,expression:"profile.password"}],attrs:{required:"",type:"checkbox"},domProps:{checked:Array.isArray(e.profile.password)?e._i(e.profile.password,null)>-1:e.profile.password},on:{change:function(t){var n=e.profile.password,o=t.target,r=!!o.checked;if(Array.isArray(n)){var s=null,i=e._i(n,s);o.checked?i<0&&e.$set(e.profile,"password",n.concat([s])):i>-1&&e.$set(e.profile,"password",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.profile,"password",r)}}}):"radio"===(e.showPassword?"text":"password")?n("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.password,expression:"profile.password"}],attrs:{required:"",type:"radio"},domProps:{checked:e._q(e.profile.password,null)},on:{change:function(t){e.$set(e.profile,"password",null)}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.password,expression:"profile.password"}],attrs:{required:"",type:e.showPassword?"text":"password"},domProps:{value:e.profile.password},on:{input:function(t){t.target.composing||e.$set(e.profile,"password",t.target.value)}}}),n("button",{attrs:{type:"button"},on:{click:function(t){e.showPassword=!e.showPassword}}},[e._v("\n      "+e._s(e.showPassword?"Hide":"Show")+"\n    ")])]),n("label",[n("button",[e._v(e._s(e.prompt))])])])},d=[],h={props:{onSubmit:Function,prompt:String},data:function(){return{profile:{username:"",password:""},showPassword:!1}}},v=h,m=(n("4ac9"),n("2877")),_=Object(m["a"])(v,p,d,!1,null,"2c1de180",null);_.options.__file="CredentialsForm.vue";var g=_.exports,k={props:{onSignIn:Function,onSignUp:Function},data:function(){return{method:"signin",error:""}},components:{CredentialsForm:g},methods:{handleSignIn:function(e){var t=this;this.error="",this.onSignIn(e).catch(function(e){t.error=e.error})},handleSignUp:function(e){var t=this;this.error="",this.onSignUp(e).catch(function(e){t.error=e.error})}}},b=k,w=(n("1a37"),Object(m["a"])(b,l,f,!1,null,"4e4bfcae",null));w.options.__file="Auth.vue";var j=w.exports,S={data:function(){return{user:null}},components:{Auth:j},created:function(){var e=window.localStorage.getItem("profile");e&&this.setUser(JSON.parse(e))},methods:{handleSignUp:function(e){var t=this;return c.signUp(e).then(function(e){t.setUser(e)})},handleSignIn:function(e){var t=this;return c.signIn(e).then(function(e){t.setUser(e)})},setUser:function(e){this.user=e,e?(c.setToken(e.token),window.localStorage.setItem("profile",JSON.stringify(e))):(c.setToken(),window.localStorage.removeItem("profile"))},handleLogout:function(){this.setUser(null),this.$router.push("/")}}},y=S,J=(n("6427"),Object(m["a"])(y,s,i,!1,null,"6a32101e",null));J.options.__file="App.vue";var x=J.exports,O=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},$=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("h2",[e._v("Welcome to Joke Project!")]),n("p",[e._v("\n      Jokes go here, not hooked to API yet.\n  ")])])}],P={},A=P,E=(n("91db"),Object(m["a"])(A,O,$,!1,null,"74846c24",null));E.options.__file="Home.vue";var L=E.exports,R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("div"),n("h1",[e._v("This is a heading")]),n("Search",{attrs:{search:e.search}}),n("button",{on:{click:function(t){e.show=!0}}},[e._v("Add A Joke")]),e.show?n("AddJoke",{attrs:{onAdd:e.handleAdd,onClose:function(){return e.show=!1}}}):e._e(),e.jokes?n("JokesList",{attrs:{jokes:e.jokes}}):e._e()],1)},U=[],I=(n("386d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("div",[n("h2",[e._v("Search for a Joke")]),n("form",{on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.keyword,expression:"keyword"}],attrs:{required:""},domProps:{value:e.keyword},on:{input:function(t){t.target.composing||(e.keyword=t.target.value)}}}),n("button",[e._v("Search")])])])])}),C=[],T={props:{search:String,onSearch:Function},data:function(){return{keyword:this.search||""}},watch:{search:function(e){this.keyword!==e&&(this.keyword=e)}},methods:{handleSubmit:function(){this.$router.push({query:{search:encodeURIComponent(this.keyword)}})}}},q=T,N=(n("aefe"),Object(m["a"])(q,I,C,!1,null,null,null));N.options.__file="Search.vue";var F=N.exports,M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("ul",[n("h3",[e._v("Jokes List")]),e._l(e.jokes,function(e){return n("Joke",{key:e.id,attrs:{joke:e}})})],2)])},H=[],D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("li",[e._v("\n    "+e._s(e.joke.joke)+"\n  ")])])},z=[],V={props:{joke:Object}},G=V,K=(n("9816"),Object(m["a"])(G,D,z,!1,null,null,null));K.options.__file="Joke.vue";var W=K.exports,X={props:{jokes:Array},components:{Joke:W}},Y=X,B=(n("d1cb"),Object(m["a"])(Y,M,H,!1,null,null,null));B.options.__file="JokesList.vue";var Q=B.exports,Z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal"},[n("form",{staticClass:"form",on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[n("button",{staticClass:"close",on:{click:e.onClose}},[e._v("X")]),n("h3",[e._v("Add Your Own Joke")]),e._m(0),n("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:e.joke.title,expression:"joke.title"}],attrs:{autofocus:"",require:""},domProps:{value:e.joke.title},on:{input:function(t){t.target.composing||e.$set(e.joke,"title",t.target.value)}}}),n("button",[e._v("Add")])])])},ee=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("label",[e._v("Joke Text:")])])}];function te(){return{title:"",source:"custom"}}var ne={props:{onAdd:Function,onClose:Function},data:function(){return{joke:te()}},methods:{handleSubmit:function(){var e=this;this.onAdd(this.joke).then(function(){e.joke=te()})}},created:function(){var e=this;this.documentListener=function(t){27===t.keyCode&&e.onClose()},document.addEventListener("keyup",this.documentListener)},destroyed:function(){document.removeEventListener("keyup",this.documentListener)}},oe=ne,re=(n("a86f"),Object(m["a"])(oe,Z,ee,!1,null,"5ecb2d34",null));re.options.__file="AddJoke.vue";var se=re.exports,ie={data:function(){return{jokes:[],search:decodeURIComponent(this.$route.query.search=""),showModal:!1,show:!1}},components:{Search:F,JokesList:Q,AddJoke:se},watch:{$route:function(e,t){console.log("watch",this.search);var n=e.query.search,o=t.query.search;n!==o&&(this.search=decodeURIComponent(n),this.searchJokes())}},methods:{handleSearch:function(){this.searchJokes()},handleAdd:function(e){return console.log("joke is ",e),c.addJoke(e)},searchJokes:function(){var e=this;this.search&&(console.log("search",this.search),c.getJokes(this.search).then(function(t){e.jokes=t.results}))}}},ae=ie,ue=(n("a1eb"),Object(m["a"])(ae,R,U,!1,null,null,null));ue.options.__file="Jokes.vue";var ce=ue.exports,le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("h3",[e._v("Joke Joke Joke")]),n("SetList")],1)},fe=[],pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("ul",[n("MyJoke")],1)])},de=[],he=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ve=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("li",[e._v("\n        JOKE\n    ")])])}],me={},_e=me,ge=(n("d1e5"),Object(m["a"])(_e,he,ve,!1,null,null,null));ge.options.__file="MyJoke.vue";var ke=ge.exports,be={components:{MyJoke:ke}},we=be,je=(n("1f61"),Object(m["a"])(we,pe,de,!1,null,null,null));je.options.__file="SetList.vue";var Se=je.exports,ye={components:{SetList:Se}},Je=ye,xe=(n("f043"),Object(m["a"])(Je,le,fe,!1,null,null,null));xe.options.__file="MySet.vue";var Oe=xe.exports,$e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("h3",[e._v("Ratings Page")]),n("RatingList")],1)},Pe=[],Ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("ul",[e._v("\n       Rating list\n       "),n("RateJoke")],1)])},Ee=[],Le=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Re=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("li",[e._v("\n       Rate a Joke\n    ")])])}],Ue={},Ie=Ue,Ce=(n("f329"),Object(m["a"])(Ie,Le,Re,!1,null,null,null));Ce.options.__file="RateJoke.vue";var Te=Ce.exports,qe={components:{RateJoke:Te}},Ne=qe,Fe=(n("4694"),Object(m["a"])(Ne,Ae,Ee,!1,null,null,null));Fe.options.__file="RatingList.vue";var Me=Fe.exports,He={data:function(){return{ratings:null}},components:{RatingList:Me},created:function(){var e=this;c.getRatings().then(function(t){e.ratings=t})}},De=He,ze=(n("fa89"),Object(m["a"])(De,$e,Pe,!1,null,null,null));ze.options.__file="Rating.vue";var Ve=ze.exports,Ge=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Ke=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("h3",[e._v("About Us")]),n("p",[e._v("Hans")]),n("p",[e._v("Teonna")]),n("p",[e._v("Jei")]),n("p",[e._v("Ivan")])])}],We={},Xe=We,Ye=(n("837d"),Object(m["a"])(Xe,Ge,Ke,!1,null,null,null));Ye.options.__file="About.vue";var Be=Ye.exports,Qe=new r["a"]({routes:[{path:"/",component:L},{path:"/search",component:ce},{path:"/myset",component:Oe},{path:"/rating",component:Ve},{path:"/about",component:Be},{path:"*",redirect:"/"}]});n("db43");o["a"].config.productionTip=!1,o["a"].use(r["a"]),o["a"].directive("focus",{inserted:function(e){e.focus()}}),new o["a"]({router:Qe,render:function(e){return e(x)}}).$mount("#app")},5990:function(e,t,n){},6427:function(e,t,n){"use strict";var o=n("ebd5"),r=n.n(o);r.a},"837d":function(e,t,n){"use strict";var o=n("a2e3"),r=n.n(o);r.a},8890:function(e,t,n){},"91db":function(e,t,n){"use strict";var o=n("f752"),r=n.n(o);r.a},9816:function(e,t,n){"use strict";var o=n("2b80"),r=n.n(o);r.a},a1eb:function(e,t,n){"use strict";var o=n("c21a"),r=n.n(o);r.a},a2e3:function(e,t,n){},a4a0:function(e,t,n){},a86f:function(e,t,n){"use strict";var o=n("08b0"),r=n.n(o);r.a},aefe:function(e,t,n){"use strict";var o=n("012d"),r=n.n(o);r.a},bb7e:function(e,t,n){},c21a:function(e,t,n){},cf05:function(e,t,n){e.exports=n.p+"img/logo.82b9c7a5.png"},d1cb:function(e,t,n){"use strict";var o=n("0584"),r=n.n(o);r.a},d1e5:function(e,t,n){"use strict";var o=n("5990"),r=n.n(o);r.a},db43:function(e,t,n){},ebd5:function(e,t,n){},f043:function(e,t,n){"use strict";var o=n("53ee"),r=n.n(o);r.a},f329:function(e,t,n){"use strict";var o=n("11c5"),r=n.n(o);r.a},f5b6:function(e,t,n){},f752:function(e,t,n){},fa89:function(e,t,n){"use strict";var o=n("bb7e"),r=n.n(o);r.a}});
//# sourceMappingURL=app.7e0eee32.js.map